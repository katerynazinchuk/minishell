tchernia:~$ $USER
AST_COMMAND: [tchernia] 
tchernia:~$ "$USER"
AST_COMMAND: [tchernia] 
tchernia:~$ '$USER'
AST_COMMAND: [$USER] 
tchernia:~$ '"$USER"'
AST_COMMAND: ["$USER"] 
tchernia:~$ "'$USER'"
minishell: cannot allocate memory
==33470== Invalid read of size 8
==33470==    at 0x4042E0: free_ast (free_parser.c:56)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a278 is 24 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x4042ED: free_ast (free_parser.c:57)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a280 is 32 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x404301: free_ast (free_parser.c:59)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a268 is 8 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x404315: free_ast (free_parser.c:61)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a268 is 8 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x40431D: free_ast (free_parser.c:61)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a370 is 0 bytes inside a block of size 16 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x404357: free_ast (free_parser.c:66)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40391A: tokens_to_argv (parser.c:116)
==33470==    by 0x403831: parse_command (parser.c:48)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x40432C: free_ast (free_parser.c:63)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a268 is 8 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x404334: free_ast (free_parser.c:63)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a370 is 0 bytes inside a block of size 16 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x404357: free_ast (free_parser.c:66)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40391A: tokens_to_argv (parser.c:116)
==33470==    by 0x403831: parse_command (parser.c:48)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid free() / delete / delete[] / realloc()
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40433C: free_ast (free_parser.c:63)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a3c0 is 0 bytes inside a block of size 8 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40433C: free_ast (free_parser.c:63)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x404D14: ft_strdup (ft_strdup.c:20)
==33470==    by 0x403998: tokens_to_argv (parser.c:123)
==33470==    by 0x403831: parse_command (parser.c:48)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x40434F: free_ast (free_parser.c:66)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a268 is 8 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid free() / delete / delete[] / realloc()
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x404357: free_ast (free_parser.c:66)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a370 is 0 bytes inside a block of size 16 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x404357: free_ast (free_parser.c:66)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40391A: tokens_to_argv (parser.c:116)
==33470==    by 0x403831: parse_command (parser.c:48)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid read of size 8
==33470==    at 0x40435C: free_ast (free_parser.c:68)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a270 is 16 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
==33470== Invalid free() / delete / delete[] / realloc()
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x40487E: run_shell (main.c:69)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Address 0x4b9a260 is 0 bytes inside a block of size 40 free'd
==33470==    at 0x484B27F: free (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x40437C: free_ast (free_parser.c:71)
==33470==    by 0x404895: run_shell (main.c:74)
==33470==    by 0x4047D2: main (main.c:44)
==33470==  Block was alloc'd at
==33470==    at 0x4848899: malloc (in /usr/libexec/valgrind/vgpreload_memcheck-amd64-linux.so)
==33470==    by 0x403758: create_ast_node (parser.c:19)
==33470==    by 0x4037C5: parse_command (parser.c:36)
==33470==    by 0x403B7E: parse_pipe (parser.c:100)
==33470==    by 0x404962: parser (main.c:98)
==33470==    by 0x4048C4: process_line (main.c:80)
==33470==    by 0x40486D: run_shell (main.c:67)
==33470==    by 0x4047D2: main (main.c:44)
==33470== 
tchernia:~$ 
exit
==33470== 
==33470== HEAP SUMMARY:
==33470==     in use at exit: 208,616 bytes in 237 blocks
==33470==   total heap usage: 891 allocs, 657 frees, 245,844 bytes allocated
==33470== 
==33470== LEAK SUMMARY:
==33470==    definitely lost: 0 bytes in 0 blocks
==33470==    indirectly lost: 0 bytes in 0 blocks
==33470==      possibly lost: 0 bytes in 0 blocks
==33470==    still reachable: 0 bytes in 0 blocks
==33470==         suppressed: 208,616 bytes in 237 blocks
==33470== 
==33470== For lists of detected and suppressed errors, rerun with: -s
==33470== ERROR SUMMARY: 14 errors from 12 contexts (suppressed: 0 from 0)



********************************************************************************

==35449== Command: ./minishell
==35449== 
tchernia:~$ "$USER'"
minishell: cannot allocate memory
tchernia:~$ "'$USER'"
minishell: cannot allocate memory
tchernia:~$ 
exit
==35449== 
==35449== HEAP SUMMARY:
==35449==     in use at exit: 204,167 bytes in 221 blocks
==35449==   total heap usage: 734 allocs, 513 frees, 238,967 bytes allocated
==35449== 
==35449== LEAK SUMMARY:
==35449==    definitely lost: 0 bytes in 0 blocks
==35449==    indirectly lost: 0 bytes in 0 blocks
==35449==      possibly lost: 0 bytes in 0 blocks
==35449==    still reachable: 0 bytes in 0 blocks
==35449==         suppressed: 204,167 bytes in 221 blocks
==35449== 
==35449== For lists of detected and suppressed errors, rerun with: -s
==35449== ERROR SUMMARY: 0 errors from 0 contexts (suppressed: 0 from 0)